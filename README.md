# EatMineral - 礦物食用插件

一個讓玩家可以食用各種礦物的 Minecraft 插件！

## 🍽️ 功能特色

- **10 種礦物支援**：鑽石、黃金、煤炭、鐵、銅、綠寶石、下界合金錠、紅石、氯化鈉、潮結的氯化鈉
- **獨特轉換**：每種礦物都有專屬的名稱和描述
- **食物效果**：不同礦物提供不同的飽食度和飽和度
- **權限系統**：完整的權限控制
- **管理命令**：豐富的管理員功能
- **Folia 支援**：任務排程與資料結構全面調整，相容 Folia 多執行緒伺服器核心
- **自動編譯**：GitHub Actions 自動化部署

## 📦 礦物轉換表

| 原礦物 | 轉換後 | 飽食度 | 飽和度 | 特色 |
|--------|--------|--------|--------|------|
| 💎 鑽石 | §b可食用礦物-鑽石錠 | 8 | 1.2 | 閃閃發光的鑽石錠 |
| 🥇 黃金 | §6可食用礦物-黃金錠 | 6 | 1.0 | 金黃色的黃金錠 |
| ⚫ 煤炭 | §8可食用礦物-煤炭 | 4 | 0.8 | 黑黑的煤炭 |
| ⚙️ 鐵 | §7可食用礦物-鐵錠 | 5 | 0.9 | 堅硬的鐵錠 |
| 🟠 銅 | §c可食用礦物-銅錠 | 3 | 0.7 | 溫暖的銅錠 |
| 💚 綠寶石 | §a可食用礦物-綠寶石 | 7 | 1.1 | 翠綠的綠寶石 |
| ⚫ 獄髓錠 | §5可食用礦物-獄髓錠 | 10 | 1.5 | 黑到發光的獄髓錠 |
| 🔴 紅石 | §c可食用礦物-紅石 | 6 | 0.9 | 充滿能量的紅石 |
| 🧂 鐵粒 | §f氯化鈉 | 2 | 0.3 | 補充鹽分（1分鐘內吃10個會中毒）|
| 🧱 鐵磚 | §7潮結的氯化鈉 | 8 | 1.0 | 受潮的一整塊鹽（1分鐘內吃5個會中毒）|

## 🎮 使用方法

1. **轉換礦物**：手持普通礦物，使用 `/ceat` 指令轉換成可食用版本
2. **直接食用**：手持可食用礦物右鍵即可食用
3. **管理命令**：
   - `/eatmineral` - 顯示幫助
   - `/eatmineral reload` - 重新載入配置
   - `/eatmineral list` - 列出所有礦物
   - `/eatmineral give <礦物>` - 給予礦物

## 🔧 安裝說明

1. 下載最新的 JAR 文件
2. 將文件放入服務器的 `plugins` 資料夾
3. 重啟服務器
4. 開始享受食用礦物的樂趣！

## ⚙️ 權限節點

- `eatmineral.use` - 允許使用礦物食用功能（默認：所有玩家）
- `eatmineral.convert` - 允許使用礦物轉換功能（默認：所有玩家）
- `eatmineral.admin` - 管理員權限（默認：OP）

## 🛠️ 開發者信息

- **Java 版本**：17
- **API 版本**：Folia 1.20.4-R0.1
- **構建工具**：Maven
- **自動編譯**：GitHub Actions

### 技術細節

轉換後的礦物使用 **PersistentDataContainer** 來儲存 NBT 標籤：

- `eatable` - 標記物品為可食用（BYTE）
- `food_level` - 儲存飽食度數值（INTEGER）
- `saturation` - 儲存飽和度數值（FLOAT）

這些 NBT 標籤確保只有經過轉換的礦物才能被食用，並且保存了正確的食物數值。

### Folia 相容性調整

- 事件處理中的耗時邏輯改為使用 `Player#getScheduler().runAtFixedRate`，避免不支援的同步排程器
- 玩家統計資料改為使用 `ConcurrentHashMap` 與 `ConcurrentLinkedDeque` 確保多執行緒安全
- 專案依賴切換至 `dev.folia:folia-api`，建置與執行皆需 Folia 核心

## 📋 系統需求

- Minecraft 1.20.4+
- Folia 伺服器核心
- Java 17+

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request！

## 📄 授權

MIT License

---

**享受你的礦物大餐！** 🍽️✨
